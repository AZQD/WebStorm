<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style type="text/css">
      #topBox{
        height: 1000px;
        background-color: #bfa;
      }
      #bottomBox{
        height: 200px;
        background-color: pink;
      }

    #top{
      position: fixed;
      right: 30px;
      bottom: 30px;
    }
  </style>
</head>
<body>
<div id="topBox">topBox</div>
<div id="bottomBox">bottomBox</div>

<a href="javascript:void(0);" id="top">回到顶部</a>
<script type="text/javascript">

  var topBoxHeight = 1000;
  var time = 1;
  var intersectionObserver = new IntersectionObserver(
    function (entries) {
      // console.log(entries);
      console.log(entries[0].intersectionRatio);
      // 如果不可见，就返回
      if (entries[0].intersectionRatio <= 0) return;
      loadItems();
    });
  
  function loadItems(){
    time += 1;
    console.log('loadItems');
    topBox.style.height = topBoxHeight*time + 'px';

  }

  // 开始观察
  intersectionObserver.observe(
    document.getElementById("bottomBox")
  );


  top.addEventListener('click', function(){
      window.scrollTo(0, 0);
  }, false);

  // 参考文档：IntersectionObserver API 使用教程
  // http://www.ruanyifeng.com/blog/2016/11/intersectionobserver_api.html
</script>
</body>
</html>